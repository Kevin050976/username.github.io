// 需要先將RTSP轉為fMP4片段
const video = document.getElementById('video');
const mediaSource = new MediaSource();
video.src = URL.createObjectURL(mediaSource);

mediaSource.addEventListener('sourceopen', () => {
  const sourceBuffer = mediaSource.addSourceBuffer('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');
  
  // 定期從伺服器獲取轉碼後的片段
  setInterval(async () => {
    const segment = await fetchSegment();
    sourceBuffer.appendBuffer(segment);
  }, 1000);
});
